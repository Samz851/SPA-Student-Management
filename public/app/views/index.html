<!doctype html>
<html>
    <head>
        <base href="/">
        <title>User Management</title>
        <!--Stylesheets and JS-->
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link href="assets/css/animate.css" rel="stylesheet" type="text/css">
        <link href="assets/css/style.css" rel="stylesheet" type="text/css">
        <!--Angularjs Core-->
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.7/angular.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.7/angular-route.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.5/angular-animate.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-messages/1.6.9/angular-messages.min.js"></script>
        <!--Angularjs Routes and Config-->
        <script src="/app/ngapp.js"></script>
        <script src="/app/ngroutes.js"></script>
        <!--Angularjs Controllers and Services-->
        <script src="/app/controllers/userCtrl.js"></script>
        <script src="/app/services/userService.js"></script>
        <script src="/app/controllers/mainCtrl.js"></script>
        <script src="/app/controllers/emailCtrl.js"></script>
        <script src="/app/services/authservice.js"></script>
    </head>
    <body ng-app="usermgmt-ui" ng-controller="mainCtrl as main" ng-show="main.loadMe">
        <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
            <a class="navbar-brand" href="#">Navbar</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarsExampleDefault">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active"><a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a></li>
                    <li class="nav-item"><a class="nav-link" href="/about">About</a></li>
                    <li class="nav-item"><a ng-show="!main.isLoggedIn" class="nav-link" href="/register">Registration</a></li>
                    <li><a ng-show="!main.isLoggedIn" class="nav-link" href="/login">Login</a></li>
                    <li><a ng-show="main.isLoggedIn" class="nav-link" href="/logout" ng-click="main.logout()">LogOUT</a></li>
                    <li ng-show="main.isLoggedIn"><a href="/profile">{{main.logUsername}}</a></li>
                </ul>
            </div>
        </nav>
        <!-- MODAL -->
        <div class="modal fade" id="reset" tabindex="-1" role="dialog" aria-labelledby="resetLabel" aria-hidden="true" ng-controller="resetCtrl">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="resetLabel">Modal title</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <form>
                      <label>Please enter your email to send you a reset link</label>
                      <input type="email" name="email" placeholder="enter your email" ng-model="email">
                      <button type="button" class="btn btn-primary" ng-click="resendUsername(email)">Reset Username</button>
                      <button type="button" class="btn btn-primary" ng-click="resetPassword(email)">Reset Password</button>
                  </form>
                  <div class="feedback">
                        <div class="jumbotron text-center" ng-show="loading">
                            <span class="glyphicon glypicon-repeat spinner"></span>
                            <p>loading...</p>
                            </div>
                            <div class="row show-hide-message" ng-show="successMsg">
                                <div class="alert alert-success">{{successMsg}}</div>
                            </div>
                            <div class="row show-hide-message" ng-show="errorMsg">
                                <div class="alert alert-danger">{{errorMsg}}</div>
                            </div>
                        </div>
                    </div>
                </div>
              </div>
            </div>
        </div>
    <main role="main" class="container" style="margin-top: 150px"><div ng-view class="jumbotron"></div></main><!-- /.container -->

        <!-- Bootstrap core JavaScript
        ================================================== -->
        <!-- Placed at the end of the document so the pages load faster -->
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  </body>
</html>